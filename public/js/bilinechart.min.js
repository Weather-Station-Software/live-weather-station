nv.models.bilineChart=function(){var e={top:30,right:20,bottom:50,left:60},C=null,t=nv.utils.defaultColor(),a=null,b=null,l=true,g=null,d,k,i,F=function(x){return x.x},E=function(x){return x.y},J="linear",L=true,G=nv.interactiveGuideline(),c=false,o=" (right axis)",q=250;var y=d3.scale.linear(),I=d3.scale.linear(),H=d3.scale.linear(),n=nv.models.line().yScale(I).duration(q),m=nv.models.line().yScale(H).duration(q),j=nv.models.scatter().yScale(I).duration(q),h=nv.models.scatter().yScale(H).duration(q),B=nv.models.multiBar().stacked(false).yScale(I).duration(q),A=nv.models.multiBar().stacked(false).yScale(H).duration(q),s=nv.models.stackedArea().yScale(I).duration(q),r=nv.models.stackedArea().yScale(H).duration(q),p=nv.models.axis().scale(y).orient("bottom").tickPadding(5).duration(q),w=nv.models.axis().scale(I).orient("left").duration(q),v=nv.models.axis().scale(H).orient("right").duration(q),z=nv.models.legend().height(30),u=nv.models.tooltip(),D=d3.dispatch();var f=[n,m,j,h,B,A,s,r];function K(x){x.each(function(ax){var aj=d3.select(this),ak=this;nv.utils.initSVG(aj);K.update=function(){aj.transition().call(K)};K.container=this;var Q=nv.utils.availableWidth(a,aj,e),S=nv.utils.availableHeight(b,aj,e);var U=ax.filter(function(az){return az.type=="line"&&az.yAxis==1});var T=ax.filter(function(az){return az.type=="line"&&az.yAxis==2});var ar=ax.filter(function(az){return az.type=="scatter"&&az.yAxis==1});var aq=ax.filter(function(az){return az.type=="scatter"&&az.yAxis==2});var O=ax.filter(function(az){return az.type=="bar"&&az.yAxis==1});var N=ax.filter(function(az){return az.type=="bar"&&az.yAxis==2});var ac=ax.filter(function(az){return az.type=="area"&&az.yAxis==1});var aa=ax.filter(function(az){return az.type=="area"&&az.yAxis==2});if(!ax||!ax.length||!ax.filter(function(az){return az.values.length}).length){nv.utils.noData(K,aj);return K}else{aj.selectAll(".nv-noData").remove()}var ae=ax.filter(function(az){return !az.disabled&&az.yAxis==1}).map(function(az){return az.values.map(function(aB,aA){return{x:F(aB),y:E(aB)}})});var ad=ax.filter(function(az){return !az.disabled&&az.yAxis==2}).map(function(az){return az.values.map(function(aB,aA){return{x:F(aB),y:E(aB)}})});if(d){for(var au=0;au<f.length;au++){if(!(au===4||au===5)){f[au].xDomain(d)}}y.domain(d).range([0,Q])}else{y.domain(d3.extent(d3.merge(ae.concat(ad)),function(az){return az.x})).range([0,Q])}var ao=aj.selectAll("g.wrap.multiChart").data([ax]);var ap=ao.enter().append("g").attr("class","wrap nvd3 multiChart").append("g");ap.append("g").attr("class","nv-x nv-axis");ap.append("g").attr("class","nv-y1 nv-axis");ap.append("g").attr("class","nv-y2 nv-axis");ap.append("g").attr("class","stack1Wrap");ap.append("g").attr("class","stack2Wrap");ap.append("g").attr("class","bars1Wrap");ap.append("g").attr("class","bars2Wrap");ap.append("g").attr("class","scatters1Wrap");ap.append("g").attr("class","scatters2Wrap");ap.append("g").attr("class","lines1Wrap");ap.append("g").attr("class","lines2Wrap");ap.append("g").attr("class","legendWrap");ap.append("g").attr("class","nv-interactive");var aw=ao.select("g");var ab=ax.map(function(aA,az){return ax[az].color||t(aA,az)});if(!l){aw.select(".legendWrap").selectAll("*").remove()}else{var af=z.align()?Q/2:Q;var at=z.align()?af:0;z.width(af);z.color(ab);aw.select(".legendWrap").datum(ax.map(function(az){az.originalKey=az.originalKey===undefined?az.key:az.originalKey;az.key=az.originalKey+(az.yAxis==1?"":o);return az})).call(z);if(!C&&z.height()!==e.top){e.top=z.height();S=nv.utils.availableHeight(b,aj,e)}aw.select(".legendWrap").attr("transform","translate("+at+","+(-e.top)+")")}n.width(Q).height(S).interpolate(J).color(ab.filter(function(aA,az){return !ax[az].disabled&&ax[az].yAxis==1&&ax[az].type=="line"}));m.width(Q).height(S).interpolate(J).color(ab.filter(function(aA,az){return !ax[az].disabled&&ax[az].yAxis==2&&ax[az].type=="line"}));j.width(Q).height(S).color(ab.filter(function(aA,az){return !ax[az].disabled&&ax[az].yAxis==1&&ax[az].type=="scatter"}));h.width(Q).height(S).color(ab.filter(function(aA,az){return !ax[az].disabled&&ax[az].yAxis==2&&ax[az].type=="scatter"}));B.width(Q).height(S).color(ab.filter(function(aA,az){return !ax[az].disabled&&ax[az].yAxis==1&&ax[az].type=="bar"}));A.width(Q).height(S).color(ab.filter(function(aA,az){return !ax[az].disabled&&ax[az].yAxis==2&&ax[az].type=="bar"}));s.width(Q).height(S).interpolate(J).color(ab.filter(function(aA,az){return !ax[az].disabled&&ax[az].yAxis==1&&ax[az].type=="area"}));r.width(Q).height(S).interpolate(J).color(ab.filter(function(aA,az){return !ax[az].disabled&&ax[az].yAxis==2&&ax[az].type=="area"}));aw.attr("transform","translate("+e.left+","+e.top+")");var ai=aw.select(".lines1Wrap").datum(U.filter(function(az){return !az.disabled}));var ah=aw.select(".scatters1Wrap").datum(ar.filter(function(az){return !az.disabled}));var R=aw.select(".bars1Wrap").datum(O.filter(function(az){return !az.disabled}));var ag=aw.select(".stack1Wrap").datum(ac.filter(function(az){return !az.disabled}));var Y=aw.select(".lines2Wrap").datum(T.filter(function(az){return !az.disabled}));var X=aw.select(".scatters2Wrap").datum(aq.filter(function(az){return !az.disabled}));var ay=aw.select(".bars2Wrap").datum(N.filter(function(az){return !az.disabled}));var W=aw.select(".stack2Wrap").datum(aa.filter(function(az){return !az.disabled}));var an=ac.length?ac.map(function(az){return az.values}).reduce(function(aA,az){return aA.map(function(aB,aC){return{x:aB.x,y:aB.y+az[aC].y}})}).concat([{x:0,y:0}]):[];var am=aa.length?aa.map(function(az){return az.values}).reduce(function(aA,az){return aA.map(function(aB,aC){return{x:aB.x,y:aB.y+az[aC].y}})}).concat([{x:0,y:0}]):[];I.domain(k||d3.extent(d3.merge(ae).concat(an),function(az){return az.y})).range([0,S]);H.domain(i||d3.extent(d3.merge(ad).concat(am),function(az){return az.y})).range([0,S]);n.yDomain(I.domain());j.yDomain(I.domain());B.yDomain(I.domain());s.yDomain(I.domain());m.yDomain(H.domain());h.yDomain(H.domain());A.yDomain(H.domain());r.yDomain(H.domain());if(ac.length){d3.transition(ag).call(s)}if(aa.length){d3.transition(W).call(r)}if(O.length){d3.transition(R).call(B)}if(N.length){d3.transition(ay).call(A)}if(U.length){d3.transition(ai).call(n)}if(T.length){d3.transition(Y).call(m)}if(ar.length){d3.transition(ah).call(j)}if(aq.length){d3.transition(X).call(h)}p._ticks(nv.utils.calcTicksX(Q/100,ax)).tickSize(-S,0);aw.select(".nv-x.nv-axis").attr("transform","translate(0,"+S+")");d3.transition(aw.select(".nv-x.nv-axis")).call(p);w._ticks(nv.utils.calcTicksY(S/36,ax)).tickSize(-Q,0);d3.transition(aw.select(".nv-y1.nv-axis")).call(w);v._ticks(nv.utils.calcTicksY(S/36,ax)).tickSize(-Q,0);d3.transition(aw.select(".nv-y2.nv-axis")).call(v);aw.select(".nv-y1.nv-axis").classed("nv-disabled",ae.length?false:true).attr("transform","translate("+y.range()[0]+",0)");aw.select(".nv-y2.nv-axis").classed("nv-disabled",ad.length?false:true).attr("transform","translate("+y.range()[1]+",0)");z.dispatch.on("stateChange",function(az){K.update()});if(c){G.width(Q).height(S).margin({left:e.left,top:e.top}).svgContainer(aj).xScale(y);ao.select(".nv-interactive").call(G)}function Z(az){var aA=ax[az.seriesIndex].yAxis===2?v:w;az.value=az.point.x;az.series={value:az.point.y,color:az.point.color,key:az.series.key};u.duration(0).headerFormatter(function(aC,aB){return p.tickFormat()(aC,aB)}).valueFormatter(function(aC,aB){return aA.tickFormat()(aC,aB)}).data(az).hidden(false)}function M(az){var aA=ax[az.seriesIndex].yAxis===2?v:w;az.value=az.point.x;az.series={value:az.point.y,color:az.point.color,key:az.series.key};u.duration(100).headerFormatter(function(aC,aB){return p.tickFormat()(aC,aB)}).valueFormatter(function(aC,aB){return aA.tickFormat()(aC,aB)}).data(az).hidden(false)}function al(az){var aA=ax[az.seriesIndex].yAxis===2?v:w;az.point.x=s.x()(az.point);az.point.y=s.y()(az.point);u.duration(0).headerFormatter(function(aC,aB){return p.tickFormat()(aC,aB)}).valueFormatter(function(aC,aB){return aA.tickFormat()(aC,aB)}).data(az).hidden(false)}function av(az){var aA=ax[az.data.series].yAxis===2?v:w;az.value=B.x()(az.data);az.series={value:B.y()(az.data),color:az.color,key:az.data.key};u.duration(0).headerFormatter(function(aC,aB){return p.tickFormat()(aC,aB)}).valueFormatter(function(aC,aB){return aA.tickFormat()(aC,aB)}).data(az).hidden(false)}function V(){for(var aA=0,az=f.length;aA<az;aA++){var aB=f[aA];try{aB.clearHighlights()}catch(aC){}}}function P(aA,aE,az){for(var aC=0,aB=f.length;aC<aB;aC++){var aD=f[aC];try{aD.highlightPoint(aA,aE,az)}catch(aF){}}}if(c){G.dispatch.on("elementMousemove",function(aE){V();var aD,aC,az,aB=[];ax.filter(function(aG,aF){aG.seriesIndex=aF;return !aG.disabled}).forEach(function(aI,aH){var aJ=y.domain();var aG=aI.values.filter(function(aM,aL){return K.x()(aM,aL)>=aJ[0]&&K.x()(aM,aL)<=aJ[1]});aC=nv.interactiveBisect(aG,aE.pointXValue,K.x());var aF=aG[aC];var aK=K.y()(aF,aC);if(aK!==null){P(aH,aC,true)}if(aF===undefined){return}if(aD===undefined){aD=aF}if(az===undefined){az=y(K.x()(aF,aC))}aB.push({key:aI.key,value:aK,color:t(aI,aI.seriesIndex),data:aF,yAxis:aI.yAxis==2?v:w})});var aA=function(aH,aG){var aF=aB[aG].yAxis;return aH==null?"N/A":aF.tickFormat()(aH)};G.tooltip.headerFormatter(function(aG,aF){return p.tickFormat()(aG,aF)}).valueFormatter(G.tooltip.valueFormatter()||aA).data({value:K.x()(aD,aC),index:aC,series:aB})();G.renderGuideLine(az)});G.dispatch.on("elementMouseout",function(az){V()})}else{n.dispatch.on("elementMouseover.tooltip",Z);m.dispatch.on("elementMouseover.tooltip",Z);n.dispatch.on("elementMouseout.tooltip",function(az){u.hidden(true)});m.dispatch.on("elementMouseout.tooltip",function(az){u.hidden(true)});j.dispatch.on("elementMouseover.tooltip",M);h.dispatch.on("elementMouseover.tooltip",M);j.dispatch.on("elementMouseout.tooltip",function(az){u.hidden(true)});h.dispatch.on("elementMouseout.tooltip",function(az){u.hidden(true)});s.dispatch.on("elementMouseover.tooltip",al);r.dispatch.on("elementMouseover.tooltip",al);s.dispatch.on("elementMouseout.tooltip",function(az){u.hidden(true)});r.dispatch.on("elementMouseout.tooltip",function(az){u.hidden(true)});B.dispatch.on("elementMouseover.tooltip",av);A.dispatch.on("elementMouseover.tooltip",av);B.dispatch.on("elementMouseout.tooltip",function(az){u.hidden(true)});A.dispatch.on("elementMouseout.tooltip",function(az){u.hidden(true)});B.dispatch.on("elementMousemove.tooltip",function(az){u()});A.dispatch.on("elementMousemove.tooltip",function(az){u()})}});return K}K.dispatch=D;K.legend=z;K.lines1=n;K.lines2=m;K.scatters1=j;K.scatters2=h;K.bars1=B;K.bars2=A;K.stack1=s;K.stack2=r;K.xAxis=p;K.yAxis1=w;K.yAxis2=v;K.tooltip=u;K.interactiveLayer=G;K.options=nv.utils.optionsFunc.bind(K);K._options=Object.create({},{width:{get:function(){return a},set:function(x){a=x}},height:{get:function(){return b},set:function(x){b=x}},showLegend:{get:function(){return l},set:function(x){l=x}},xDomain:{get:function(){return d},set:function(x){d=x}},yDomain1:{get:function(){return k},set:function(x){k=x}},yDomain2:{get:function(){return i},set:function(x){i=x}},noData:{get:function(){return g},set:function(x){g=x}},interpolate:{get:function(){return J},set:function(x){J=x}},legendRightAxisHint:{get:function(){return o},set:function(x){o=x}},margin:{get:function(){return e},set:function(x){if(x.top!==undefined){e.top=x.top;C=x.top}e.right=x.right!==undefined?x.right:e.right;e.bottom=x.bottom!==undefined?x.bottom:e.bottom;e.left=x.left!==undefined?x.left:e.left}},color:{get:function(){return t},set:function(x){t=nv.utils.getColor(x)}},x:{get:function(){return F},set:function(x){F=x;n.x(x);m.x(x);j.x(x);h.x(x);B.x(x);A.x(x);s.x(x);r.x(x)}},y:{get:function(){return E},set:function(x){E=x;n.y(x);m.y(x);j.y(x);h.y(x);s.y(x);r.y(x);B.y(x);A.y(x)}},useVoronoi:{get:function(){return L},set:function(x){L=x;n.useVoronoi(x);m.useVoronoi(x);s.useVoronoi(x);r.useVoronoi(x)}},useInteractiveGuideline:{get:function(){return c},set:function(x){c=x;if(c){n.interactive(false);n.useVoronoi(false);m.interactive(false);m.useVoronoi(false);s.interactive(false);s.useVoronoi(false);r.interactive(false);r.useVoronoi(false);j.interactive(false);h.interactive(false)}}},duration:{get:function(){return q},set:function(x){q=x;[n,m,s,r,j,h,p,w,v].forEach(function(M){M.duration(q)})}}});nv.utils.initOptions(K);return K};